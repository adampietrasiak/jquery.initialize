!function(o){"use strict";var n=[" ",">","+","~"],a=["+","~"],s=["ATTR","PSEUDO","ID","CLASS"];function d(e,t,r){this.selector=e.trim(),this.callback=t,this.options=r,function(e){if(!o.find.tokenize)return e.isCombinatorial=!0,e.isFraternal=!0,e.isComplex=!0;e.isCombinatorial=!1,e.isFraternal=!1,e.isComplex=!1;for(var t=o.find.tokenize(e.selector),r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)-1!=n.indexOf(t[r][i].type)&&(e.isCombinatorial=!0),-1!=a.indexOf(t[r][i].type)&&(e.isFraternal=!0),-1!=s.indexOf(t[r][i].type)&&(e.isComplex=!0)}(this)}var i=[];i.initialize=function(e,t,r){function i(){-1==n.indexOf(this)&&(n.push(this),o(this).each(t))}var n=[];o(r.target).find(e).each(i);var a=new d(e,i,r);this.push(a);var s=new MutationObserver(function(e){for(var t=[],r=0;r<e.length;r++)if("attributes"==e[r].type&&(e[r].target.matches(a.selector)&&t.push(e[r].target),a.isFraternal?t.push.apply(t,e[r].target.parentElement.querySelectorAll(a.selector)):t.push.apply(t,e[r].target.querySelectorAll(a.selector))),"childList"==e[r].type)for(var i=0;i<e[r].addedNodes.length;i++)e[r].addedNodes[i]instanceof Element&&(e[r].addedNodes[i].matches(a.selector)&&t.push(e[r].addedNodes[i]),a.isFraternal?t.push.apply(t,e[r].addedNodes[i].parentElement.querySelectorAll(a.selector)):t.push.apply(t,e[r].addedNodes[i].querySelectorAll(a.selector)));for(var n=0;n<t.length;n++)o(t[n]).each(a.callback)}),l={childList:!0,subtree:!0,attributes:a.isComplex};return s.observe(r.target,r.observer||l),s},i.terminate=function(e,t,r){function i(){-1==n.indexOf(this)&&(n.push(this),o(this).each(t))}var n=[];o(r.target).find(e).each(i);var a=new d(e,i,r);this.push(a);var s=new MutationObserver(function(e){for(var t=[],r=0;r<e.length;r++)if("childList"==e[r].type)for(var i=0;i<e[r].removedNodes.length;i++)e[r].removedNodes[i]instanceof Element&&(e[r].removedNodes[i].matches(a.selector)&&t.push(e[r].removedNodes[i]),a.isFraternal?t.push.apply(t,e[r].removedNodes[i].parentElement.querySelectorAll(a.selector)):t.push.apply(t,e[r].removedNodes[i].querySelectorAll(a.selector)));for(var n=0;n<t.length;n++)o(t[n]).each(a.callback)}),l={childList:!0,subtree:!0,attributes:a.isComplex};return s.observe(r.target,r.observer||l),s},o.fn.initialize=function(e,t){return i.initialize(this.selector,e,o.extend({},o.initialize.defaults,t))},o.initialize=function(e,t,r){return i.initialize(e,t,o.extend({},o.initialize.defaults,r))},o.initialize.defaults={target:document.documentElement,observer:null},o.fn.terminate=function(e,t){return i.terminate(this.selector,e,o.extend({},o.terminate.defaults,t))},o.terminate=function(e,t,r){return i.terminate(e,t,o.extend({},o.terminate.defaults,r))},o.terminate.defaults={target:document.documentElement,observer:null}}(jQuery);
